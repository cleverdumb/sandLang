global M <^E, ^G>

atom Empty alias E {
    section property {
        cdef render 0
    }
}

atom RandomMovement {
    section property {
        cdef render 0
    }
    section update {
        match (0, 0, 2, 1) sym(x) {
            pattern
            x M
        }
        -> {
            def P = pick(1, 0)
            pattern
            P x
        }

        match (0, 0, 1, 2) sym(y) {
            pattern
            x
            M
        }
        -> {
            def P = pick(0, 1)
            pattern
            P
            x
        }
    }
}

atom Gas alias G {
    section property {
        cdef render 1
        cdef color #0000FF
    }
    section update {
        inherit RandomMovement
    }
}